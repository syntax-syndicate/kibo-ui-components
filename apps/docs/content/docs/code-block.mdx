---
title: Code Block
description: Provides syntax highlighting, line numbers, and copy to clipboard functionality for code blocks.
icon: Braces
---

import { AutoTypeTable } from 'fumadocs-typescript/ui';

<PoweredBy packages={[
  { name: 'Lucide', url: 'https://lucide.dev/' },
  { name: 'Simple Icons', url: 'https://simpleicons.org/' },
  { name: 'Shiki', url: 'https://shiki.matsu.io/' },
]} />

<Preview name="code-block" code={`'use client';

import { useState } from 'react';
import {
  CodeBlock,
  CodeBlockHeader,
  CodeBlockFilename,
  CodeBlockSelect,
  CodeBlockSelectTrigger,
  CodeBlockSelectItem,
  CodeBlockSelectValue,
  CodeBlockSelectContent,
  CodeBlockCopyButton,
  CodeBlockContent,
} from '@/components/ui/kibo-ui/code-block';

const code = [{
  language: 'JavaScript',
  filename: 'MyComponent.jsx',
  code: \`function MyComponent(props) {
  return (
    <div>
      <h1>Hello, {props.name}!</h1>
      <p>This is an example React component.</p>
    </div>
  );
}\`,
}, {
  language: 'Typescript',
  filename: 'MyComponent.tsx',
  code: \`function MyComponent(props: { name: string }) {
  return (
    <div>
      <h1>Hello, {props.name}!</h1>
      <p>This is an example React component.</p>
    </div>
  );
}\`
}];

const Example = () => (
  <div className="p-4">
    <CodeBlock defaultValue={code[0].language}>
      <CodeBlockHeader>
        {code.map((item) => (
          <CodeBlockFilename key={item.language} value={item.language}>
            {item.filename}
          </CodeBlockFilename>
        ))}
        <CodeBlockSelect>
          <CodeBlockSelectTrigger>
            <CodeBlockSelectValue />
          </CodeBlockSelectTrigger>
          <CodeBlockSelectContent>
            {code.map((item) => (
              <CodeBlockSelectItem key={item.language} value={item.language}>
                {item.language}
              </CodeBlockSelectItem>
            ))}
          </CodeBlockSelectContent>
        </CodeBlockSelect>
        <CodeBlockCopyButton
          onCopy={() =>
            console.log(\`Copied "\${activeCode?.code}" to clipboard\`)
          }
          onError={() =>
            console.error(\`Failed to copy "\${activeCode?.code}" to clipboard\`)
          }
        />
      </CodeBlockHeader>
      {code.map((item) => (
        <CodeBlockContent key={item.language} value={item.language}>
          {item.code}
        </CodeBlockContent>
      ))}
    </CodeBlock>
  </div>
);

export default Example;`} />

## Installation

<Installer packageName="code-block" />

## Features

- Syntax highlighting
- Line numbers
- Copy to clipboard
- Support for filenames
- Highlighted lines and words
- Focused line
- Diff
- Language detection
- Theme support
- Customizable styles

## Examples

### No filename

<Preview name="code-block" code={`'use client';

import { useState } from 'react';
import {
  CodeBlock,
  CodeBlockHeader,
  CodeBlockFilename,
  CodeBlockSelect,
  CodeBlockSelectTrigger,
  CodeBlockSelectItem,
  CodeBlockSelectValue,
  CodeBlockSelectContent,
  CodeBlockCopyButton,
  CodeBlockContent,
} from '@/components/ui/kibo-ui/code-block';

const code = [{
  language: 'JavaScript',
  filename: 'MyComponent.jsx',
  code: \`function MyComponent(props) {
  return (
    <div>
      <h1>Hello, {props.name}!</h1>
      <p>This is an example React component.</p>
    </div>
  );
}\`,
}, {
  language: 'Typescript',
  filename: 'MyComponent.tsx',
  code: \`function MyComponent(props: { name: string }) {
  return (
    <div>
      <h1>Hello, {props.name}!</h1>
      <p>This is an example React component.</p>
    </div>
  );
}\`
}];

const Example = () => (
  <div className="p-4">
    <CodeBlock defaultValue={code[0].language}>
      {code.map((item) => (
        <CodeBlockContent key={item.language} value={item.language}>
          {item.code}
        </CodeBlockContent>
      ))}
    </CodeBlock>
  </div>
);

export default Example;`} />

### Highlighted lines

<Preview name="code-block" code={`'use client';

import { useState } from 'react';
import {
  CodeBlock,
  CodeBlockHeader,
  CodeBlockFilename,
  CodeBlockSelect,
  CodeBlockSelectTrigger,
  CodeBlockSelectItem,
  CodeBlockSelectValue,
  CodeBlockSelectContent,
  CodeBlockCopyButton,
  CodeBlockContent,
} from '@/components/ui/kibo-ui/code-block';

const code = [{
  language: 'JavaScript',
  filename: 'MyComponent.jsx',
  code: \`function MyComponent(props) {
  return (
    <div>
      <h1>Hello, {props.name}!</h1> // [!code highlight]
      <p>This is an example React component.</p>
    </div>
  );
}\`,
}, {
  language: 'Typescript',
  filename: 'MyComponent.tsx',
  code: \`function MyComponent(props: { name: string }) {
  return (
    <div>
      <h1>Hello, {props.name}!</h1> // [!code highlight]
      <p>This is an example React component.</p>
    </div>
  );
}\`
}];

const Example = () => (
  <div className="p-4">
    <CodeBlock defaultValue={code[0].language}>
      <CodeBlockHeader>
        {code.map((item) => (
          <CodeBlockFilename key={item.language} value={item.language}>
            {item.filename}
          </CodeBlockFilename>
        ))}
        <CodeBlockSelect>
          <CodeBlockSelectTrigger>
            <CodeBlockSelectValue />
          </CodeBlockSelectTrigger>
          <CodeBlockSelectContent>
            {code.map((item) => (
              <CodeBlockSelectItem key={item.language} value={item.language}>
                {item.language}
              </CodeBlockSelectItem>
            ))}
          </CodeBlockSelectContent>
        </CodeBlockSelect>
        <CodeBlockCopyButton
          onCopy={() =>
            console.log(\`Copied "\${activeCode?.code}" to clipboard\`)
          }
          onError={() =>
            console.error(\`Failed to copy "\${activeCode?.code}" to clipboard\`)
          }
        />
      </CodeBlockHeader>
      {code.map((item) => (
        <CodeBlockContent key={item.language} value={item.language}>
          {item.code}
        </CodeBlockContent>
      ))}
    </CodeBlock>
  </div>
);

export default Example;`} />

### Highlighted words

<Preview name="code-block" code={`'use client';

import { useState } from 'react';
import {
  CodeBlock,
  CodeBlockHeader,
  CodeBlockFilename,
  CodeBlockSelect,
  CodeBlockSelectTrigger,
  CodeBlockSelectItem,
  CodeBlockSelectValue,
  CodeBlockSelectContent,
  CodeBlockCopyButton,
  CodeBlockContent,
} from '@/components/ui/kibo-ui/code-block';

const code = [{
  language: 'JavaScript',
  filename: 'MyComponent.jsx',
  code: \`function MyComponent(props) {
  return (
    <div>
      <h1>Hello, {props.name}!</h1> // [!code word:props.name]
      <p>This is an example React component.</p>
    </div>
  );
}\`,
}, {
  language: 'Typescript',
  filename: 'MyComponent.tsx',
  code: \`function MyComponent(props: { name: string }) {
  return (
    <div>
      <h1>Hello, {props.name}!</h1> // [!code word:props.name]
      <p>This is an example React component.</p>
    </div>
  );
}\`
}];

const Example = () => (
  <div className="p-4">
    <CodeBlock defaultValue={code[0].language}>
      <CodeBlockHeader>
        {code.map((item) => (
          <CodeBlockFilename key={item.language} value={item.language}>
            {item.filename}
          </CodeBlockFilename>
        ))}
        <CodeBlockSelect>
          <CodeBlockSelectTrigger>
            <CodeBlockSelectValue />
          </CodeBlockSelectTrigger>
          <CodeBlockSelectContent>
            {code.map((item) => (
              <CodeBlockSelectItem key={item.language} value={item.language}>
                {item.language}
              </CodeBlockSelectItem>
            ))}
          </CodeBlockSelectContent>
        </CodeBlockSelect>
        <CodeBlockCopyButton
          onCopy={() =>
            console.log(\`Copied "\${activeCode?.code}" to clipboard\`)
          }
          onError={() =>
            console.error(\`Failed to copy "\${activeCode?.code}" to clipboard\`)
          }
        />
      </CodeBlockHeader>
      {code.map((item) => (
        <CodeBlockContent key={item.language} value={item.language}>
          {item.code}
        </CodeBlockContent>
      ))}
    </CodeBlock>
  </div>
);

export default Example;`} />

### Diff

<Preview name="code-block" code={`'use client';

import { useState } from 'react';
import {
  CodeBlock,
  CodeBlockHeader,
  CodeBlockFilename,
  CodeBlockSelect,
  CodeBlockSelectTrigger,
  CodeBlockSelectItem,
  CodeBlockSelectValue,
  CodeBlockSelectContent,
  CodeBlockCopyButton,
  CodeBlockContent,
} from '@/components/ui/kibo-ui/code-block';

const code = [{
  language: 'JavaScript',
  filename: 'MyComponent.jsx',
  code: \`function MyComponent(props) {
  return (
    <div>
      <h1>Hello, random user!</h1>// [!code --]
      <h1>Hello, {props.name}!</h1>// [!code ++]
      <p>This is an example React component.</p>
    </div>
  );
}\`,
}, {
  language: 'Typescript',
  filename: 'MyComponent.tsx',
  code: \`function MyComponent(props: { name: string }) {
  return (
    <div>
      <h1>Hello, random user!</h1>// [!code --]
      <h1>Hello, {props.name}!</h1>// [!code ++]
      <p>This is an example React component.</p>
    </div>
  );
}\`
}];

const Example = () => (
  <div className="p-4">
    <CodeBlock defaultValue={code[0].language}>
      <CodeBlockHeader>
        {code.map((item) => (
          <CodeBlockFilename key={item.language} value={item.language}>
            {item.filename}
          </CodeBlockFilename>
        ))}
        <CodeBlockSelect>
          <CodeBlockSelectTrigger>
            <CodeBlockSelectValue />
          </CodeBlockSelectTrigger>
          <CodeBlockSelectContent>
            {code.map((item) => (
              <CodeBlockSelectItem key={item.language} value={item.language}>
                {item.language}
              </CodeBlockSelectItem>
            ))}
          </CodeBlockSelectContent>
        </CodeBlockSelect>
        <CodeBlockCopyButton
          onCopy={() =>
            console.log(\`Copied "\${activeCode?.code}" to clipboard\`)
          }
          onError={() =>
            console.error(\`Failed to copy "\${activeCode?.code}" to clipboard\`)
          }
        />
      </CodeBlockHeader>
      {code.map((item) => (
        <CodeBlockContent key={item.language} value={item.language}>
          {item.code}
        </CodeBlockContent>
      ))}
    </CodeBlock>
  </div>
);

export default Example;`} />

### Focus

<Preview name="code-block" code={`'use client';

import { useState } from 'react';
import {
  CodeBlock,
  CodeBlockHeader,
  CodeBlockFilename,
  CodeBlockSelect,
  CodeBlockSelectTrigger,
  CodeBlockSelectItem,
  CodeBlockSelectValue,
  CodeBlockSelectContent,
  CodeBlockCopyButton,
  CodeBlockContent,
} from '@/components/ui/kibo-ui/code-block';

const code = [{
  language: 'JavaScript',
  filename: 'MyComponent.jsx',
  code: \`function MyComponent(props) {
  return (
    <div>
      <h1>Hello, random user!</h1> // [!code focus]
      <p>This is an example React component.</p>
    </div>
  );
}\`,
}, {
  language: 'Typescript',
  filename: 'MyComponent.tsx',
  code: \`function MyComponent(props: { name: string }) {
  return (
    <div>
      <h1>Hello, {props.name}!</h1> // [!code focus]
      <p>This is an example React component.</p>
    </div>
  );
}\`
}];

const Example = () => (
  <div className="p-4">
    <CodeBlock defaultValue={code[0].language}>
      <CodeBlockHeader>
        {code.map((item) => (
          <CodeBlockFilename key={item.language} value={item.language}>
            {item.filename}
          </CodeBlockFilename>
        ))}
        <CodeBlockSelect>
          <CodeBlockSelectTrigger>
            <CodeBlockSelectValue />
          </CodeBlockSelectTrigger>
          <CodeBlockSelectContent>
            {code.map((item) => (
              <CodeBlockSelectItem key={item.language} value={item.language}>
                {item.language}
              </CodeBlockSelectItem>
            ))}
          </CodeBlockSelectContent>
        </CodeBlockSelect>
        <CodeBlockCopyButton
          onCopy={() =>
            console.log(\`Copied "\${activeCode?.code}" to clipboard\`)
          }
          onError={() =>
            console.error(\`Failed to copy "\${activeCode?.code}" to clipboard\`)
          }
        />
      </CodeBlockHeader>
      {code.map((item) => (
        <CodeBlockContent key={item.language} value={item.language}>
          {item.code}
        </CodeBlockContent>
      ))}
    </CodeBlock>
  </div>
);

export default Example;`} />

### Hidden line numbers

<Preview name="code-block" code={`'use client';

import { useState } from 'react';
import {
  CodeBlock,
  CodeBlockHeader,
  CodeBlockFilename,
  CodeBlockSelect,
  CodeBlockSelectTrigger,
  CodeBlockSelectItem,
  CodeBlockSelectValue,
  CodeBlockSelectContent,
  CodeBlockCopyButton,
  CodeBlockContent,
} from '@/components/ui/kibo-ui/code-block';

const code = [{
  language: 'JavaScript',
  filename: 'MyComponent.jsx',
  code: \`function MyComponent(props) {
  return (
    <div>
      <h1>Hello, {props.name}!</h1>
      <p>This is an example React component.</p>
    </div>
  );
}\`,
}, {
  language: 'Typescript',
  filename: 'MyComponent.tsx',
  code: \`function MyComponent(props: { name: string }) {
  return (
    <div>
      <h1>Hello, {props.name}!</h1>
      <p>This is an example React component.</p>
    </div>
  );
}\`
}];

const Example = () => (
  <div className="p-4">
    <CodeBlock defaultValue={code[0].language}>
      <CodeBlockHeader>
        {code.map((item) => (
          <CodeBlockFilename key={item.language} value={item.language}>
            {item.filename}
          </CodeBlockFilename>
        ))}
        <CodeBlockSelect>
          <CodeBlockSelectTrigger>
            <CodeBlockSelectValue />
          </CodeBlockSelectTrigger>
          <CodeBlockSelectContent>
            {code.map((item) => (
              <CodeBlockSelectItem key={item.language} value={item.language}>
                {item.language}
              </CodeBlockSelectItem>
            ))}
          </CodeBlockSelectContent>
        </CodeBlockSelect>
        <CodeBlockCopyButton
          onCopy={() =>
            console.log(\`Copied "\${activeCode?.code}" to clipboard\`)
          }
          onError={() =>
            console.error(\`Failed to copy "\${activeCode?.code}" to clipboard\`)
          }
        />
      </CodeBlockHeader>
      {code.map((item) => (
        <CodeBlockContent lineNumbers={false} key={item.language} value={item.language}>
          {item.code}
        </CodeBlockContent>
      ))}
    </CodeBlock>
  </div>
);

export default Example;`} />

### Custom highlight color

<Preview name="code-block" code={`'use client';

import { useState } from 'react';
import {
  CodeBlock,
  CodeBlockHeader,
  CodeBlockFilename,
  CodeBlockSelect,
  CodeBlockSelectTrigger,
  CodeBlockSelectItem,
  CodeBlockSelectValue,
  CodeBlockSelectContent,
  CodeBlockCopyButton,
  CodeBlockContent,
} from '@/components/ui/kibo-ui/code-block';

const code = [{
  language: 'JavaScript',
  filename: 'MyComponent.jsx',
  code: \`function MyComponent(props) {
  return (
    <div>
      <h1>Hello, {props.name}!</h1> // [!code highlight]
      <p>This is an example React component.</p>
    </div>
  );
}\`,
}, {
  language: 'Typescript',
  filename: 'MyComponent.tsx',
  code: \`function MyComponent(props: { name: string }) {
  return (
    <div>
      <h1>Hello, {props.name}!</h1> // [!code highlight]
      <p>This is an example React component.</p>
    </div>
  );
}\`
}];

const Example = () => (
  <div className="p-4">
    <CodeBlock defaultValue={code[0].language}>
      <CodeBlockHeader>
        {code.map((item) => (
          <CodeBlockFilename key={item.language} value={item.language}>
            {item.filename}
          </CodeBlockFilename>
        ))}
        <CodeBlockSelect>
          <CodeBlockSelectTrigger>
            <CodeBlockSelectValue />
          </CodeBlockSelectTrigger>
          <CodeBlockSelectContent>
            {code.map((item) => (
              <CodeBlockSelectItem key={item.language} value={item.language}>
                {item.language}
              </CodeBlockSelectItem>
            ))}
          </CodeBlockSelectContent>
        </CodeBlockSelect>
        <CodeBlockCopyButton
          onCopy={() =>
            console.log(\`Copied "\${activeCode?.code}" to clipboard\`)
          }
          onError={() =>
            console.error(\`Failed to copy "\${activeCode?.code}" to clipboard\`)
          }
        />
      </CodeBlockHeader>
      {code.map((item) => (
        <CodeBlockContent key={item.language} value={item.language} className="[&_.line.highlighted]:bg-purple-50 [&_.line.highlighted]:after:bg-purple-500">
          {item.code}
        </CodeBlockContent>
      ))}
    </CodeBlock>
  </div>
);

export default Example;`} />

## Props

The Code Block component is made up of the following subcomponents:

### CodeBlock

<AutoTypeTable path="node_modules/@repo/code-block/index.tsx" name="CodeBlockProps" />

### CodeBlockHeader

<AutoTypeTable path="node_modules/@repo/code-block/index.tsx" name="CodeBlockHeaderProps" />

### CodeBlockFilename

<AutoTypeTable path="node_modules/@repo/code-block/index.tsx" name="CodeBlockFilenameProps" />

### CodeBlockSelect

<AutoTypeTable path="node_modules/@repo/code-block/index.tsx" name="CodeBlockSelectProps" />

### CodeBlockSelectTrigger

<AutoTypeTable path="node_modules/@repo/code-block/index.tsx" name="CodeBlockSelectTriggerProps" />

### CodeBlockSelectValue

<AutoTypeTable path="node_modules/@repo/code-block/index.tsx" name="CodeBlockSelectValueProps" />

### CodeBlockSelectContent

<AutoTypeTable path="node_modules/@repo/code-block/index.tsx" name="CodeBlockSelectContentProps" />

### CodeBlockSelectItem

<AutoTypeTable path="node_modules/@repo/code-block/index.tsx" name="CodeBlockSelectItemProps" />

### CodeBlockCopyButton

<AutoTypeTable path="node_modules/@repo/code-block/index.tsx" name="CodeBlockCopyButtonProps" />

### CodeBlockContent

<AutoTypeTable path="node_modules/@repo/code-block/index.tsx" name="CodeBlockContentProps" />

